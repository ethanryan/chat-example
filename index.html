<!DOCTYPE html>
<html>
<body>
  <script src="./bower_components/yjs/y.js"></script>
  <!-- Yjs automatically includes all missing dependencies (browser only) -->
  <script>
      var Y = require('yjs')
      require('y-memory')(Y) // extend Y with the memory module
      require('y-websockets-client')(Y)
      require('y-array')(Y)
      require('y-map')(Y)

      Y({
        db: {
          name: 'memory' // store the shared data in memory
        },
        connector: {
          name: 'websockets-client', // use the websockets connector
          room: 'my room'            // Instances connected to the same room share data
          // url: 'localhost:1234' // specify your own server destination
        },
        share: { // specify the shared content
          map: 'Map',    // y.share.map is of type Y.Map
          array: 'Array' // y.share.array is of type Y.Array
        },
        sourceDir: '/bower_components' // where the modules are (browser only)
      }).then(function (y) {
        /*
        At this point Yjs is successfully initialized.
        Try it out in your browser console!
        */
        window.y = y
        console.log('Yjs instance ready!')
        y.share.map // is an Y.Map instance
        y.share.array // is an Y.Array instance
      })
  </script>
  <textarea></textarea>
</body>
</html>
